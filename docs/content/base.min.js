!function(e,a,t){t(a).on("keydown",(function(a){switch(a.keyCode){case 37:var r=t("article a.prev"),n=t("article a.prev.hidden");r.length&&0===n.length&&(e.location.href=r.attr("href"));break;case 39:var i=t("article a.next"),o=t("article a.next.hidden");i.length&&0===o.length&&(e.location.href=i.attr("href"))}})),t(".share").on("click",(function(e){e.preventDefault(),r.apply(this,["twitter",550,250]),r.apply(this,["facebook",550,300]),r.apply(this,["google",500,550]),r.apply(this,["hackernews",500,250])}));var r=function(a,r,n){var i=t(this);i.hasClass(a)&&(void 0!==e.gtag&&e.gtag("event","share",{event_category:"social",event_label:a}),e.open(i.attr("href"),"share-"+a,"width="+r+",height="+n))};t(".affiliate").prop("rel","nofollow").after(' <a href="/contact/#the-legal-side">Affiliate</a>');const n=e.matchMedia("(prefers-color-scheme: dark)");function i(){const e=a.querySelectorAll("link.favicon"),t=n.matches;e.forEach(e=>{e.href=t?e.href.replace("/favicon.","/favicon-dark."):e.href.replace("/favicon-dark.","/favicon.")})}n.addListener(i),i()}(window,document,jQuery);